!function(){"use strict";var e=document.querySelector(".burger"),t=document.querySelector(".navigation"),n=document.querySelectorAll(".navigation__link"),c=document.querySelector(".text-welcome");function o(){c.style.visibility="visible"}var i=document.querySelector(".gallery__masonry"),r=document.querySelectorAll(".gallery__img"),a=document.querySelector(".gallery"),u=[],l=document.querySelector(".ticket-button"),s=document.querySelector(".popup"),d=document.querySelector(".popup__body"),m=document.querySelector(".popup__close"),v=document.querySelector(".basic-count"),y=document.querySelector(".senior-count"),f=document.querySelector(".total-basic"),_=document.querySelector(".total-senior"),L=document.querySelector(".total-tickets-cost"),g=document.querySelectorAll(".number-form__btn"),p=document.getElementById("basic-form"),b=document.getElementById("senior-form");function h(){v.innerHTML=p.value,y.innerHTML=b.value,f.innerHTML=v.innerHTML*T[0].innerHTML,_.innerHTML=y.innerHTML*H[0].innerHTML,L.innerHTML=+f.innerHTML+ +_.innerHTML}var E=document.querySelector(".form__ticket-type"),S=document.querySelector(".form__ticket-type-button"),q=document.querySelector(".form__ticket-type-list"),M=document.querySelectorAll(".form__ticket-type-item"),k=document.querySelector(".overview__type"),T=document.querySelectorAll(".basic-cost"),H=document.querySelectorAll(".senior-cost");function w(){q.classList.toggle("form__ticket-type-list-hidden"),S.classList.toggle("form__ticket-type-button-active")}var A,D,B,I=document.getElementById("date"),x=document.querySelector(".overview__date"),F={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},J={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},C=new Date,N=C.getDay();function O(){return A=C.getFullYear(),D=C.getMonth(),(B=C.getDate())<10&&(B="0".concat(B)),C="".concat(A,"-").concat(D+1,"-").concat(B)}function P(){I.value=C}function R(){N=F["".concat(N)],D=J["".concat(D)],x.innerHTML="".concat(N,", ").concat(D," ").concat(B)}O();var W,Y,j,z,G=document.getElementById("time"),K=document.querySelector(".overview__time"),Q=new Date;function U(){W<"09"?W="09":W>"18"&&(W="18"),Y<"30"&&Y>"01"?j="".concat(W,":30"):Y>"30"&&Y<"59"&&(j="".concat(W,":00"))}function V(){K.innerHTML=j}e.addEventListener("click",(function(){e.classList.toggle("burger-active"),t.classList.toggle("navigation-active"),t.classList.contains("navigation-active")?c.style.visibility="hidden":o()})),t.addEventListener("click",(function(c){n.forEach((function(n){c.target===n&&t.classList.contains("navigation-active")&&(t.classList.remove("navigation-active"),e.classList.remove("burger-active"),o())}))})),window.addEventListener("click",(function(n){n.target.matches(".header__navigation")||n.target.matches(".header__burger")||!t.classList.contains("navigation-active")||(e.classList.remove("burger-active"),t.classList.remove("navigation-active"),o())})),r.forEach((function(e){u.push(e),e.remove()})),u.sort((function(){return Math.random()-.5})),u.forEach((function(e){i.prepend(e)})),z=document.querySelectorAll(".gallery__img"),window.addEventListener("scroll",(function(){var e,t=(e=a.getBoundingClientRect()).top,n=e.bottom,c=document.documentElement.clientHeight;(t<=c/2||n>c/2)&&z.forEach((function(e){e.classList.add("gallery__img_active")})),(t>=c||n<0)&&z.forEach((function(e){e.classList.remove("gallery__img_active")}))})),l.addEventListener("click",(function(){s.classList.remove("popup__hidden"),d.classList.remove("popup__body-close"),document.body.style.overflow="hidden"})),m.addEventListener("click",(function(){s.classList.add("popup__hidden"),d.classList.add("popup__body-close"),document.body.style.overflow="auto"})),E.addEventListener("click",w),S.addEventListener("click",w),M.forEach((function(e){e.addEventListener("click",(function(){E.value=e.innerHTML,q.classList.add("form__ticket-type-list-hidden"),S.classList.remove("form__ticket-type-button-active")}))})),M.forEach((function(e){e.addEventListener("click",(function(){switch(E.value){case"Permanent exhibition":T.forEach((function(e){e.innerHTML=20}));break;case"Temporary exhibition":T.forEach((function(e){e.innerHTML=25}));break;case"Combined Admission":T.forEach((function(e){e.innerHTML=40}))}k.innerHTML=E.value,H.forEach((function(e){e.innerHTML=+T[0].innerHTML/2})),h()}))})),g.forEach((function(e){e.addEventListener("click",h)})),h(),I.min=C,P(),R(),I.addEventListener("input",(function(){C=new Date(I.value),N=C.getDay(),O(),P(),R()})),W=Q.getHours(),Y=Q.getMinutes(),U(),G.value=j,V(),G.addEventListener("input",(function(){j=G.value,W=j.substr(0,2),Y=j.substr(3),U(),G.value=j,V()}))}();